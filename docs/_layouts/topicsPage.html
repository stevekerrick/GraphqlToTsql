<!DOCTYPE html>
<html lang="{{ site.locale }}">

{% include head.html %}
<style>
  /* html {
    color: #fff;
    background-color: #159957;
    background-image: linear-gradient(120deg, #155799, #159957);
  } */

  section.hidden {
    display: none;
  }

  .my-main-content {
    padding: 0 2rem;
  }

  .topic-container {
    display: flex;
  }

  .topic-links {
    flex: 0 0 auto;
    width: 30%;
    padding-top: .67em;
    background-color: #f0f0f0
  }

  .topic-links>div {
    padding: .4em;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    cursor: pointer;
  }

  .topic-links>div:hover {
    border: 1px solid gray;
  }

  .topic-links>div.selected {
    background-color: white;
  }

  .topic-contents {
    padding-left: 1em;
    flex: 1 1;
  }
</style>

<body>
  {% include page-header.html %}

  <section class="my-main-content hidden">
    <div class="topic-container">
      <div class="topic-links">
      </div>
      <div class="topic-contents">
        {{ content }}
      </div>
    </div>
  </section>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous"></script>

  <script>

    // See if the url tells us which topic to start with
    var startWith;
    var searchParams = new URLSearchParams(window.location.search);
    if (searchParams.has("topic")) {
      startWith = searchParams.get("topic");
    }

    // Fill in the topic links on the left-side
    var selectedTopic;
    $("h1").each(function () {
      var $h1 = $(this);
      var $h1Parent = $h1.parent();
      $h1Parent.hide();

      // Build topic element for the left-side menu
      var $topic = $("<div></div>", {
        text: $h1.text()
      });
      $(".topic-links").append($topic);

      // Make it clickable
      $topic.click(function () {
        if (selectedTopic) {
          selectedTopic.$h1Parent.hide();
          selectedTopic.$topic.removeClass("selected");
        }

        $h1Parent.show();
        $topic.addClass("selected");
        selectedTopic = { $h1Parent, $topic };
      });

      // If this is the first topic, click on it
      if (!selectedTopic) {
        if (!startWith || $h1.text() === startWith) {
          $topic.click();
        }
      }
    });

    $(".my-main-content").removeClass("hidden");

  </script>
</body>

</html>